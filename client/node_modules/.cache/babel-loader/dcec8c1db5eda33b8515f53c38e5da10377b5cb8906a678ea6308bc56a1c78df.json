{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Henrique Miurin\\\\Downloads\\\\ponto_certo_system_updated_with_fixes\\\\client\\\\src\\\\pages\\\\Clock.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { createApiClient } from '../utils/api';\nimport { useAuth } from '../utils/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sequenceOrder = ['ENTRADA', 'INT_SAIDA', 'INT_RETORNO', 'SAIDA'];\nfunction ClockPage() {\n  _s();\n  const {\n    token\n  } = useAuth();\n  const [recordsToday, setRecordsToday] = useState([]);\n  const [suggested, setSuggested] = useState('ENTRADA');\n  const [selected, setSelected] = useState('ENTRADA');\n  const [latitude, setLatitude] = useState(null);\n  const [longitude, setLongitude] = useState(null);\n  const [geoStatus, setGeoStatus] = useState('INDEFINIDO');\n  const [observacao, setObservacao] = useState('');\n  const [message, setMessage] = useState(null);\n\n  // compute geofence (client side) optional: using env variables\n  const latRef = parseFloat(process.env.REACT_APP_GEOFENCE_LAT || '-23.55052');\n  const lonRef = parseFloat(process.env.REACT_APP_GEOFENCE_LON || '-46.633308');\n  const radius = parseFloat(process.env.REACT_APP_GEOFENCE_RADIUS || '150');\n  function haversine(lat1, lon1, lat2, lon2) {\n    function toRad(deg) {\n      return deg * Math.PI / 180;\n    }\n    const R = 6371000;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  }\n\n  // Load existing records to suggest next type\n  useEffect(() => {\n    async function fetchRecords() {\n      try {\n        const api = createApiClient(token);\n        const res = await api.get('/records');\n        const todayStr = new Date().toISOString().slice(0, 10);\n        const todayRecords = (res.data || []).filter(r => r.data_hora_utc.startsWith(todayStr));\n        setRecordsToday(todayRecords);\n        // determine suggestion\n        if (todayRecords.length === 0) {\n          setSuggested('ENTRADA');\n          setSelected('ENTRADA');\n        } else if (todayRecords.length === 1) {\n          setSuggested('INT_SAIDA');\n          setSelected('INT_SAIDA');\n        } else if (todayRecords.length === 2) {\n          setSuggested('INT_RETORNO');\n          setSelected('INT_RETORNO');\n        } else if (todayRecords.length === 3) {\n          setSuggested('SAIDA');\n          setSelected('SAIDA');\n        } else {\n          setSuggested('---');\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    fetchRecords();\n  }, [token]);\n\n  // Get geolocation of user\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        const lat = pos.coords.latitude;\n        const lon = pos.coords.longitude;\n        setLatitude(lat);\n        setLongitude(lon);\n        const dist = haversine(lat, lon, latRef, lonRef);\n        setGeoStatus(dist <= radius ? 'DENTRO' : 'FORA');\n      }, err => {\n        console.warn('Erro ao obter localização', err);\n      }, {\n        enableHighAccuracy: true\n      });\n    }\n  }, [latRef, lonRef, radius]);\n  async function handleConfirm(e) {\n    e.preventDefault();\n    setMessage(null);\n    try {\n      const api = createApiClient(token);\n      const res = await api.post('/records', {\n        tipo: selected,\n        latitude,\n        longitude,\n        observacao\n      });\n      setMessage({\n        type: 'success',\n        text: res.data.message\n      });\n      setObservacao('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      setMessage({\n        type: 'danger',\n        text: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Erro ao registrar ponto'\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      maxWidth: '600px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Bater ponto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Localiza\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), latitude && longitude ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [\"Latitude: \", latitude.toFixed(5), \", Longitude: \", longitude.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [\"Status geofence: \", geoStatus === 'DENTRO' ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-success\",\n            children: \"Dentro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Fora\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Obtendo localiza\\xE7\\xE3o...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Pr\\xF3xima marca\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-1\",\n        children: [\"Sugerida: \", suggested]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-group\",\n        role: \"group\",\n        \"aria-label\": \"Tipos de marca\\xE7\\xE3o\",\n        children: sequenceOrder.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `btn btn-outline-primary ${selected === type ? 'active' : ''}`,\n          disabled: recordsToday.length >= 4,\n          onClick: () => setSelected(type),\n          children: type.replace('_', ' ')\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleConfirm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Observa\\xE7\\xE3o (opcional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: observacao,\n          onChange: e => setObservacao(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: recordsToday.length >= 4,\n        children: \"Confirmar batida\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert alert-${message.type} mt-3`,\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this), recordsToday.length >= 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning mt-3\",\n      children: \"Voc\\xEA j\\xE1 atingiu o limite de 4 marca\\xE7\\xF5es hoje.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(ClockPage, \"J/wNCzWZK+EcZSmIwaLanRR+T04=\", false, function () {\n  return [useAuth];\n});\n_c = ClockPage;\nexport default ClockPage;\nvar _c;\n$RefreshReg$(_c, \"ClockPage\");","map":{"version":3,"names":["React","useEffect","useState","createApiClient","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","sequenceOrder","ClockPage","_s","token","recordsToday","setRecordsToday","suggested","setSuggested","selected","setSelected","latitude","setLatitude","longitude","setLongitude","geoStatus","setGeoStatus","observacao","setObservacao","message","setMessage","latRef","parseFloat","process","env","REACT_APP_GEOFENCE_LAT","lonRef","REACT_APP_GEOFENCE_LON","radius","REACT_APP_GEOFENCE_RADIUS","haversine","lat1","lon1","lat2","lon2","toRad","deg","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","fetchRecords","api","res","get","todayStr","Date","toISOString","slice","todayRecords","data","filter","r","data_hora_utc","startsWith","length","err","console","error","navigator","geolocation","getCurrentPosition","pos","lat","coords","lon","dist","warn","enableHighAccuracy","handleConfirm","e","preventDefault","post","tipo","type","text","_err$response","_err$response$data","response","className","style","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","role","map","disabled","onClick","replace","onSubmit","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/Henrique Miurin/Downloads/ponto_certo_system_updated_with_fixes/client/src/pages/Clock.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { createApiClient } from '../utils/api';\nimport { useAuth } from '../utils/AuthContext';\n\nconst sequenceOrder = ['ENTRADA', 'INT_SAIDA', 'INT_RETORNO', 'SAIDA'];\n\nfunction ClockPage() {\n  const { token } = useAuth();\n  const [recordsToday, setRecordsToday] = useState([]);\n  const [suggested, setSuggested] = useState('ENTRADA');\n  const [selected, setSelected] = useState('ENTRADA');\n  const [latitude, setLatitude] = useState(null);\n  const [longitude, setLongitude] = useState(null);\n  const [geoStatus, setGeoStatus] = useState('INDEFINIDO');\n  const [observacao, setObservacao] = useState('');\n  const [message, setMessage] = useState(null);\n\n  // compute geofence (client side) optional: using env variables\n  const latRef = parseFloat(process.env.REACT_APP_GEOFENCE_LAT || '-23.55052');\n  const lonRef = parseFloat(process.env.REACT_APP_GEOFENCE_LON || '-46.633308');\n  const radius = parseFloat(process.env.REACT_APP_GEOFENCE_RADIUS || '150');\n\n  function haversine(lat1, lon1, lat2, lon2) {\n    function toRad(deg) { return deg * Math.PI / 180; }\n    const R = 6371000;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  }\n\n  // Load existing records to suggest next type\n  useEffect(() => {\n    async function fetchRecords() {\n      try {\n        const api = createApiClient(token);\n        const res = await api.get('/records');\n        const todayStr = new Date().toISOString().slice(0, 10);\n        const todayRecords = (res.data || []).filter(r => r.data_hora_utc.startsWith(todayStr));\n        setRecordsToday(todayRecords);\n        // determine suggestion\n        if (todayRecords.length === 0) {\n          setSuggested('ENTRADA');\n          setSelected('ENTRADA');\n        } else if (todayRecords.length === 1) {\n          setSuggested('INT_SAIDA');\n          setSelected('INT_SAIDA');\n        } else if (todayRecords.length === 2) {\n          setSuggested('INT_RETORNO');\n          setSelected('INT_RETORNO');\n        } else if (todayRecords.length === 3) {\n          setSuggested('SAIDA');\n          setSelected('SAIDA');\n        } else {\n          setSuggested('---');\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    fetchRecords();\n  }, [token]);\n\n  // Get geolocation of user\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (pos) => {\n          const lat = pos.coords.latitude;\n          const lon = pos.coords.longitude;\n          setLatitude(lat);\n          setLongitude(lon);\n          const dist = haversine(lat, lon, latRef, lonRef);\n          setGeoStatus(dist <= radius ? 'DENTRO' : 'FORA');\n        },\n        (err) => {\n          console.warn('Erro ao obter localização', err);\n        },\n        { enableHighAccuracy: true }\n      );\n    }\n  }, [latRef, lonRef, radius]);\n\n  async function handleConfirm(e) {\n    e.preventDefault();\n    setMessage(null);\n    try {\n      const api = createApiClient(token);\n      const res = await api.post('/records', {\n        tipo: selected,\n        latitude,\n        longitude,\n        observacao\n      });\n      setMessage({ type: 'success', text: res.data.message });\n      setObservacao('');\n    } catch (err) {\n      console.error(err);\n      setMessage({ type: 'danger', text: err.response?.data?.message || 'Erro ao registrar ponto' });\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\" style={{ maxWidth: '600px' }}>\n      <h3>Bater ponto</h3>\n      <div className=\"mb-3\">\n        <h5>Localização</h5>\n        {latitude && longitude ? (\n          <>\n            <p className=\"mb-1\">Latitude: {latitude.toFixed(5)}, Longitude: {longitude.toFixed(5)}</p>\n            <p className=\"mb-1\">Status geofence: {geoStatus === 'DENTRO' ? (\n              <span className=\"text-success\">Dentro</span>\n            ) : (\n              <span className=\"text-danger\">Fora</span>\n            )}</p>\n          </>\n        ) : (\n          <p>Obtendo localização...</p>\n        )}\n      </div>\n      <div className=\"mb-3\">\n        <h5>Próxima marcação</h5>\n        <p className=\"mb-1\">Sugerida: {suggested}</p>\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Tipos de marcação\">\n          {sequenceOrder.map((type) => (\n            <button\n              key={type}\n              type=\"button\"\n              className={`btn btn-outline-primary ${selected === type ? 'active' : ''}`}\n              disabled={recordsToday.length >= 4}\n              onClick={() => setSelected(type)}\n            >\n              {type.replace('_', ' ')}\n            </button>\n          ))}\n        </div>\n      </div>\n      <form onSubmit={handleConfirm}>\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Observação (opcional)</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={observacao}\n            onChange={(e) => setObservacao(e.target.value)}\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={recordsToday.length >= 4}>\n          Confirmar batida\n        </button>\n      </form>\n      {message && (\n        <div className={`alert alert-${message.type} mt-3`}>\n          {message.text}\n        </div>\n      )}\n      {recordsToday.length >= 4 && (\n        <div className=\"alert alert-warning mt-3\">Você já atingiu o limite de 4 marcações hoje.</div>\n      )}\n    </div>\n  );\n}\n\nexport default ClockPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}